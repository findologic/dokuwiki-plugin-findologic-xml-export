====== FINDOLOGIC-Integration für OXID-Shops vor Version 4.7 ======

===== Kompatibilität =====

Prinzipiell werden alle gängigen Versionen unterstützt. Sollten Sie sich nicht sicher sein, so wenden Sie sich bitte direkt an support@findologic.com.
Wir prüfen die Kompatibilität gerne auch für Ihre Version.

===== Update =====

Sollten Sie eine sehr alte Version des Moduls einsetzen (keine Konfiguration im Backend des Shops möglich) **sichern** und entfernen Sie bitte alle Dateien des alten Moduls. Befolgen Sie danach die Anleitung zur [[fl:integration:oxid#Neuinstallation]]. Die zu entfernenden Dateien sind:

<code>
modules/
modules/findologic/
modules/findologic/config.inc.php
modules/findologic/filter.php
modules/findologic/findologic.php
modules/findologic/flsearch.php
out/
out/basic/
out/basic/img/
out/basic/img/removeFilter.png
out/basic/tpl/
out/basic/tpl/inc/
out/basic/tpl/inc/findologic_filter.tpl
views/
views/findologic_export.php
</code>

Bei neueren Versionen müssen Sie lediglich die Template-Dateien vom Modul zu sichern, falls diese von Ihnen angepasst wurden. Danach können Sie einfach das Modul in Ihrem Shop entpacken.

===== Neuinstallation =====

<note important>Falls Sie OXID in einer Version ab 4.5 einsetzen, beachten Sie bitte die untenstehenden Hinweise</note>

  - Laden Sie das {{:fl:integration:oxid:oxid.zip|FINDOLOGIC-Modul für Oxid}} herunter
  - Entpacken Sie den Inhalt des Archivs in den Stammordner Ihres Shops auf Ihrem Server (per FTP o.Ä.). **Beachten Sie**: Wählen Sie aus den verschiedenen Ordnern unter "Installationspaket" die OXID-Version Ihres Shops aus und befolgen Sie den Anleitungen in der readme.txt-Datei des entsprechenden Ordners.
  - Fügen Sie folgende Zeilen zur Datei ''out/basic/tpl/search.tpl'' (oder entsprechend in dem von Ihnen verwendeten OXID-Template) oberhalb der Zeile<code><!-- page locator --></code> hinzu: <code>[{** FINDOLOGIC MODULE **}]

[{include file="inc/findologic_filter.tpl"}]

[{** ENDE FINDOLOGIC MODULE**}]</code>
  - Im Shop Backend (//eShop Admin//) fügen Sie folgende Zeilen zu ''Stammdaten'' -> ''Grundeinstellungen'' -> ''System'' -> ''Module'' hinzu: <code>search => findologic/findologic
oxsearch => findologic/flsearch
oxarticle => findologic/core/floxarticle</code>
    * **WICHTIG**: Entfernen Sie falls vorhanden die Zeile ''oxAdminDetails => findologic/admin/findologic_admin''
  - Löschen Sie die temporären Dateien im Ordner ''tmp'' im Stammordner Ihres Shops auf Ihrem Server (per FTP o.Ä.)
  - Im Shop Backend (//eShop Admin//) tragen Sie unter ''eShop Admin'' -> ''Findologic Suche'' -> ''Einstellungen'' Shop Key und Service-URL ein, die Sie von FINDOLOGIC erhalten haben.

==== Unterschiede bei OXID Versionen ab 4.5 ====

=== Bei Nutzung der Basic-Theme ===

Die Datei ''search.tpl'' befindet sich in einem anderen Ordner als in den Vorgängerversionen. Die Datei ist nun unter

<code>out/basic/tpl/page/search/search.tpl</code>

zu finden. Alle weiteren Installationsschritte können unverändert durchgeführt werden!

=== Bei Nutzung der Azure-Theme (oder bei Nutzung eines Templates auf Grundlage des Azure-Theme) ===

Im Adminbereich des Shops müssen unter "Service - Tools - SQL Ausführen" die folgenden SQL-Queries ausgeführt werden:

<code sql>INSERT INTO `oxtplblocks` VALUES('d9e07ca9d2ab88fea7cc89a0591e8956', 1, 'oxbaseshop', 'page/search/search.tpl', 'search_results', 1, 'findologic_left_filter', 'findologic');
INSERT INTO `oxtplblocks` VALUES('d9e07ca9d2ab88fea7cc90a0591e8956', 1, 'oxbaseshop', 'page/search/search.tpl', 'search_top_listlocator', 1, 'findologic_filter', 'findologic');</code>

Anschliessend müssen im gleichen Navigationspunkt der Button "Views jetzt updaten" angeklickt werden und die temporären Dateien im tmp-Ordner auf dem Server gelöscht werden!

Bei diesem Verfahren muss der Endkunde keine Templateanpassungen betreiben! Sollten Änderungen am Layout gewünscht sein, können diese direkt in den Snippets unter 

<code>modules/findologic/out/*</code>

(dort sind die Templatedateien, CSS-Datei und Sprachdateien) durchgeführt werden => hierbei aenderen sich aber nicht die Positionen der Snippets im Layout!

==== Smart Suggest ====

[[fl:integration:oxid:smart_suggest|Integration der Smart Suggest bei OXID]]

===== Hinweise, Tipps & Tricks =====

  * Damit Artikel gefunden werden, wählen Sie beim Artikel die Option ''Erweitert'' -> ''Kann gesucht werden''
  * Damit Artikel mit Varianten über die Suche gefunden werden, muss zumindest eine der Varianten aktiv sein
  * Artikel die keiner Kategorie zugeordnet sind, können auch von der Suche nicht gefunden werden, da sie im Export nicht mitgeliefert werden
  * Um Artikel ohne Lagerbestand von der Suche auszuschließen, wählen Sie beim Artikel die Option ''Lager'' -> ''Lieferstatus'' -> ''Wenn ausverkauft offline''

<note warning>Falls die Einstellungen im Backend nicht angezeigt werden, prüfen Sie bitte die Einstellungen für die Module unter Punkt 4: [[fl:integration:oxid#Neuinstallation]]</note>

  

